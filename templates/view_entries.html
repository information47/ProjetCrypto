<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Entrées de Mot de Passe</title>
  </head>
  <body>
    <h2>Entrées de Mot de Passe pour : {{ coffre.nom_coffre }}</h2>

    <h3>Vos Entrées de Mot de Passe</h3>
    <ul>
      {% for entry in entries %}
      <li>
        <strong>{{ entry.name }}</strong>: (Login: {{ entry.login }},
        <a href="{{ entry.url }}" target="_blank">{{ entry.url }}</a>, Mot de
        passe: {{ entry.password }})
                <form 
            action="{{ url_for('delete_password_entry', password_entry_id=entry.Id_PasswordEntry, coffre_id=2) }}" 
            method="POST" 
            class="inline">
          <button 
              type="submit" 
              class="bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-3 rounded">
            Supprimer
          </button>
        </form>
      </li>
      {% else %}
      <li>Aucune entrée de mot de passe trouvée.</li>
      {% endfor %}
    </ul>

    <h3>Ajouter une Entrée de Mot de Passe</h3>
    <form
      method="post"
      action="{{ url_for('add_password_entry', coffre_id=coffre.Id_coffre) }}"
    >
      <label for="name">Nom:</label>
      <input type="text" id="name" name="name" required />
      <br />
      <label for="login">Login:</label>
      <input type="text" id="login" name="login" required />
      <br />
      <label for="url">URL:</label>
      <input type="url" id="url" name="url" required />
      <br />
      <label for="password">Mot de passe:</label>
      <input type="password" id="password" name="password" required />
      <br />
      <button type="submit">Ajouter Entrée</button>
    </form>

    <a href="{{ url_for('dashboard') }}">Retourner au tableau de bord</a>

    {% with messages = get_flashed_messages(with_categories=true) %} {% if
    messages %}
    <ul>
      {% for category, message in messages %}
      <li class="{{ category }}">{{ message }}</li>
      {% endfor %}
    </ul>
    {% endif %} {% endwith %}
  </body>
</html>
